# Zodを使ったスキーマバリデーション

## 🎯 目的

型安全で再利用性の高いバリデーションを実現するために  
Zodを使ってスキーマベースの入力チェックを実装できるようになる。

---

## 🎯 今週のゴール

- Zod を使ってバリデーションスキーマを定義できる
- React Hook Form と Zod を連携してエラーメッセージを表示できる
- Zodの型推論を使って安全にフォームの型を扱える

---

## ✅ Zodの基本構文とスキーマ定義

[リンク](Zod%20の基本構文とスキーマ定義.md)  

---

## ✅ React Hook Formとの連携

[リンク](React%20Hook%20Form%20との連携方法.md)  

---

## ✅ Zodの refine を使ったカスタムバリデーション）

[リンク](Zodの%20refine%20を使ったカスタムバリデーション.md)  

---

## 🔹 課題内容

`/memos/new` ページを追加し、以下の投稿フォームを作成してください：

| 項目     | チェック内容の例               |
|----------|------------------------------|
| タイトル | 空欄でないこと               |
| 内容     | 10文字以上であること（任意） |

- 登録ボタンを押したときに、エラー or 成功メッセージを表示する
- 入力内容はコンソールに出力 or UI に表示のみでOK（保存は不要）

---

## 🔹 実装条件

- `useForm`（React Hook Form）で状態管理
- `zodResolver` を使って Zod と連携
- `z.object({ title: ..., content: ... })` 形式でスキーマ定義
- バリデーションエラーがあれば `<p>` で画面に表示
- 成功時には「登録完了」のメッセージを表示
- 見た目はシンプルでOK（Tailwindを使っても◎）

---

## 💬 ワンポイントアドバイス

- `register("title")` や `register("content")` を使って input に紐づけ
- Zod の `.min(length)` や `.optional()` を活用
- `handleSubmit(onValid, onInvalid)` を使えば成功／失敗で処理を分けられる

<!-- 課題を提出する際、プルリクエストに以下を貼り付けてください

## 📊 評価チェックリスト（Week 11：Zodによるスキーマバリデーション）

※ 各観点ごとにチェック数を数え、下記ルールで点数化  
（チェック数 0個=0点 / 1個=1点 / 2個=3点 / 3個以上=5点）

---

### 🎯 成果物（アウトプットの完成度）

- [ ] Zodを使ってバリデーションスキーマを定義している
- [ ] `zodResolver` を `useForm` に適用している
- [ ] ZodのエラーメッセージがUIに反映されている
- [ ] 入力項目に応じたZodスキーマの条件が設定されている（例：必須 / 文字数 / 型）

---

### 📚 知識理解（仕組みや構文の理解）※やさしい版

- [ ] Zodは「入力ルールを型と一緒に書けるライブラリ」であることを理解している
- [ ] スキーマで「どんな値を許すか」を書けることを知っている（例：`z.string().min(5)`）
- [ ] `zodResolver` を使うとZodとReact Hook Formが連携できることを理解している
- [ ] Zodで定義した型からフォーム型を自動で作れる（型推論）の意味を理解している

---

### 💬 説明力（なぜその構成にしたか）※やさしい版

- [ ] なぜZodを使ったのか、バリデーションの強みとして説明できる
- [ ] どのようなバリデーションルールを定義したか話せる
- [ ] UIにエラーをどう表示させているか説明できる
- [ ] 型とバリデーションを1つに書けるメリットを簡単に話せる

---

### 🔧 自己修正（修正・改善の自走力）

- [ ] スキーマエラーの修正やZodエラーの調整を自力で行っている
- [ ] バリデーションが効かない原因を調査・解決している
- [ ] 型とバリデーションを共通化・整理している形跡がある
- [ ] エラーメッセージやUI表示をユーザー目線で改善している

---

📝 評価観点ごとのチェック数を数え、以下のように点数に換算してください：

| チェック数 | 点数 |
|------------|------|
| 0個        | 0点  |
| 1個        | 1点  |
| 2個        | 3点  |
| 3〜4個     | 5点  |

-->