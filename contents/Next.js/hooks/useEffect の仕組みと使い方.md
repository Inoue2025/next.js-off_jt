## ✅ useEffect の仕組みと使い方

`useEffect` は React の関数コンポーネントで「副作用（side effect）」を扱うためのフックです。  
副作用とは、**レンダリングの外で何か処理を行うこと（例：データ取得、タイマー、イベントリスナーなど）** を指します。

---

### 🔸 基本構文

```tsx
useEffect(() => {
  // 副作用の処理（初期実行など）
}, [依存する値]);
```

- 第一引数：実行する処理（関数）
- 第二引数：依存配列（この値が変わったら再実行）

---

### 🔸 例1：初回だけ実行（依存配列が空）

```tsx
useEffect(() => {
  console.log("初回マウント時に一度だけ実行されます");
}, []);
```

---

### 🔸 例2：ある値が変わったら再実行

```tsx
useEffect(() => {
  console.log("countが変更されたら実行");
}, [count]);
```

- `count` の値が変化するたびに処理が実行される
- 状態と連動した副作用が書ける

---

### 🔸 例3：クリーンアップ処理（タイマー解除など）

```tsx
useEffect(() => {
  const timer = setInterval(() => {
    console.log("1秒ごとに実行");
  }, 1000);

  // コンポーネントが消えるときに実行
  return () => {
    clearInterval(timer);
  };
}, []);
```

---

### ✅ よくある使い道

| 用途 | 例 |
|------|----|
| データ取得 | API を呼び出して画面に表示する |
| タイマー制御 | setInterval / setTimeout |
| イベント登録 | ウィンドウのリサイズなど |
| ローカルストレージ操作 | 保存した値を読み取る |

---

### ✅ 注意点

- `useEffect` の中で `async` 関数は直接書けない（中で定義して実行）
- 無限ループに注意（依存配列を正しく設定する）
- `console.log` なども副作用の一つ

---

### ✅ まとめ

- `useEffect(() => {...}, [依存])` の形で書く
- 初回だけ・値の変化ごと・クリーンアップ、など様々な使い方がある
- 非同期処理や初期データの取得などに必須！

まずは `console.log` から試して、動き方を観察してみよう！